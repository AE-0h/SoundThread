[gd_scene load_steps=4 format=3 uid="uid://bcs87y7ptx3ke"]

[ext_resource type="Script" uid="uid://bdlfvuljckmu1" path="res://scenes/main/control.gd" id="1_2f0aq"]
[ext_resource type="Script" uid="uid://l2yejnjysupr" path="res://scenes/main/graph_edit.gd" id="2_3ioqo"]
[ext_resource type="PackedScene" uid="uid://b0wdj8v6o0wq0" path="res://scenes/menu/menu.tscn" id="3_dtf4o"]

[node name="Control" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_2f0aq")

[node name="GraphEdit" type="GraphEdit" parent="."]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
right_disconnects = true
script = ExtResource("2_3ioqo")

[node name="GenerateBatchFile" type="Button" parent="."]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 12.0
offset_top = -45.0
offset_right = 172.0
offset_bottom = -14.0
grow_vertical = 0
text = "Generate Batch File"

[node name="FileDialog" type="FileDialog" parent="."]
title = "Open a Directory"
ok_button_text = "Select Current Folder"
file_mode = 2
access = 2
use_native_dialog = true

[node name="mainmenu" parent="." instance=ExtResource("3_dtf4o")]
layout_mode = 1

[node name="NoLocationPopup" type="Window" parent="."]
auto_translate_mode = 1
title = "Wrong File Type"
initial_position = 2
size = Vector2i(350, 200)
visible = false
transient = true
exclusive = true
unresizable = true
borderless = true
always_on_top = true
popup_window = true

[node name="Label" type="Label" parent="NoLocationPopup"]
offset_left = 1.0
offset_top = 7.0
offset_right = 350.0
offset_bottom = 160.0
text = "Please select the location of your _cdprogs folder. This can be changed later in settings.

Windows Default: C:\\CDPR8\\_cdp\\_cdprogs
Mac Default: ~/cdp/_cdprogs
"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="OkButton" type="Button" parent="NoLocationPopup"]
offset_left = 142.0
offset_top = 154.0
offset_right = 206.0
offset_bottom = 185.0
text = "Ok"

[node name="CdpLocationDialog" type="FileDialog" parent="."]
title = "Open a Directory"
ok_button_text = "Select Current Folder"
file_mode = 2
access = 2
use_native_dialog = true

[node name="Label" type="Label" parent="."]
layout_mode = 0
offset_left = 231.0
offset_top = 604.0
offset_right = 423.0
offset_bottom = 627.0
text = "Delete intermediate files"

[node name="DeleteIntermediateFilesToggle" type="CheckButton" parent="."]
layout_mode = 0
offset_left = 184.0
offset_top = 606.0
offset_right = 228.0
offset_bottom = 630.0

[node name="Console" type="Window" parent="."]
initial_position = 5
size = Vector2i(600, 400)
visible = false
always_on_top = true

[node name="ConsoleOutput" type="RichTextLabel" parent="Console"]
offset_left = 10.0
offset_top = 10.0
offset_right = 590.0
offset_bottom = 390.0
bbcode_enabled = true

[connection signal="connection_request" from="GraphEdit" to="." method="_on_graph_edit_connection_request"]
[connection signal="delete_nodes_request" from="GraphEdit" to="." method="_on_graph_edit_delete_nodes_request"]
[connection signal="disconnection_request" from="GraphEdit" to="." method="_on_graph_edit_disconnection_request"]
[connection signal="node_deselected" from="GraphEdit" to="." method="_on_graph_edit_node_deselected"]
[connection signal="node_selected" from="GraphEdit" to="." method="_on_graph_edit_node_selected"]
[connection signal="button_down" from="GenerateBatchFile" to="." method="_on_generate_batch_file_button_down"]
[connection signal="dir_selected" from="FileDialog" to="." method="_on_file_dialog_dir_selected"]
[connection signal="button_down" from="NoLocationPopup/OkButton" to="." method="_on_ok_button_button_down"]
[connection signal="canceled" from="CdpLocationDialog" to="." method="_on_cdp_location_dialog_canceled"]
[connection signal="dir_selected" from="CdpLocationDialog" to="." method="_on_cdp_location_dialog_dir_selected"]
[connection signal="toggled" from="DeleteIntermediateFilesToggle" to="." method="_on_delete_intermediate_files_toggle_toggled"]
[connection signal="close_requested" from="Console" to="." method="_on_console_close_requested"]
